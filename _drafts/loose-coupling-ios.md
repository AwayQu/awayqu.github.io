---
layout: post
title:  "iOS (松耦合)"
date:   2017-10-04 22:29:22 +0800
categories: design
---

## 软件的组成部分

* 视图组件
* 业务逻辑
* 数据源

## 软件开发迭代的期望

> 同时也是软件开发中的难点

* 稳定
* 扩展

需求功能的累加, 导致业务逻辑的复杂度增加, 不同功能模块之间互相牵扯, 导致难以扩展, 以及无法预估BUG的产生. 而需求功能的累加是不可能会停止的, 所以需要设计代码结构, `解除耦合`, `预留接口`  解决稳定性以及扩展性的问题.

## 容易影响稳定性以及扩展性的点

> 主要影响稳定性的点
* `不同功能模块之间的耦合`
* `业务逻辑与数据源之间的耦合, 业务逻辑与视图层之间的耦合`

> 主要影响扩展性的点
* 业务实现的 `常量` ( 写死 ) 过多

## 不同功能模块之间的耦合（iOS）

* 启动功能模块 耦合 具体的功能能模块
  * 元编程（自定义方法交换）
  * 引导图
  * 本地资源文件加载
  * 服务端初始化数据（配置、同步数据、秘钥）下载
  * 静默登陆
  * 视图组件初始化
  * sdk注册
  * 网页agent注册
  * 业务单例初始化

* 不同视图控制器之间的耦合
  * 数据和事件交互 （代理、参数设置、以及通知）
  * 页面跳转

* 业务功能 数据源耦合
  * 数据源单实例实现 多模块功用
  * 共用同一份本地存储 （节点配置）

## 根本的依据 （以抽象的规则分离具体实现）

